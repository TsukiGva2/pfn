.fst (|<>| py {raise Exception("cannot call fst on empty list")})

.fst (|list|
	-> list:0
)


.snd (|<>| py {raise Exception("cannot call snd on empty list")})

.snd (|list|
	when (< (len list) 2) do
		py {raise Exception("cannot call snd on list with length < 2")}
	end

	-> list:1
)


.MODEL (|name|
	(exec (+ "class " name ":\n" "\tpass") (globals))
)


.IMPL (|name, fn|
	(exec (+ name "." fn " = " "pfn_" fn "at" name) (globals))
)

